<!-- ecommerce.component.html -->
<div class = "container">
    <div class = "row" style = "margin-top : 60px;">
      <div class = "col-md-12"> <!--  dimensiones -->
        <div class="row">
            <h2 class="card-title text-success text-center">
                    <b>Busca tus productos <i class="fa-solid fa-magnifying-glass"></i></b>
                </h2>
        </div>
          <div class="col-md-12">
            <div class="row">
              <div class="col-md-11" align="center">
                <div class="form-group">
                  <!-- <label for="searchTerm" class="font-weight-bold">Buscar Producto:</label> -->
                  <input type="text" class="form-control" id="searchTerm" [(ngModel)]="searchTerm" (input)="filterProducts()">
                </div>
              </div>
              <div class="col-md-1" align="right">
                <button type="button" class="btn btn-success ovalado" data-dismiss="modal"
                                      arial-label="close" (click)="limpiarbusqueda()" matTooltip="Limpiar busqueda">
                                      <i class="fa fa-refresh"></i>
                                  </button>&nbsp;
              </div>
            </div>
            <br>
            <div class="row">
                      <div class="col-md-4" *ngFor="let product of products|page:page ;let i = index">
                        <mat-card>
                          <div class="image-container" align="center">
                            <img class="small-image" [src]="product.imageUrl" alt="Product Image">
                          </div>
                          <mat-card-header>
                            <mat-card-title>{{ product.name }}</mat-card-title>
                            <mat-card-subtitle>{{ product.price | currency }}</mat-card-subtitle>
                          </mat-card-header>
                          <mat-card-content>
                            <p>{{ product.description }}</p>
                          </mat-card-content>
                          <div align="center">
                            <mat-card-actions >
                              <button   mat-button color="primary" (click)="addToCart(product)" matTooltip="Añadir al carrito"> Añadir</button>
                            </mat-card-actions>
                          </div>
                          
                        </mat-card>
                        <br>
                        <br>
                      </div>
                    </div>
                    <div class="col-12" align="center" *ngIf="totalH>0">
                      <button class="btn bg-gradient-ligth btn" (click)="pageChange(0)" tooltip="Inicio"><i
                              class="fas fa-angle-double-left"></i>
                      </button>&nbsp;
                      <button class="btn bg-gradient-ligth btn" (click)="prevPage()" tooltip="Anterior"><i
                              class="fas fa-angle-left"></i>
                      </button>&nbsp;
                      <div class=" btn bg-gradient-olive btn "> {{math((page/rowsOnPage))+1}} <!--NUMERO DE PAGINA-->
                      </div>&nbsp;
                      <button class="btn bg-gradient-ligth btn" (click)="nextPage()" tooltip="Siguiente"><i
                              class="fas fa-angle-right"></i>
                      </button>&nbsp;
                      <button class="btn bg-gradient-ligth btn"
                          (click)="pageChange(((math((totalH/rowsOnPage))*rowsOnPage)-rowsOnPage))"
                          tooltip="Final"><i class="fas fa-angle-double-right"></i>
                      </button>&nbsp;
                    </div>
          </div>
      </div>
    </div>
</div>
